<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="favicon.png">
    <title>Stundenverlaufsplan - Lessplan</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="back-link">‚Üê Zur√ºck zur Auswahl</a>
            <h1>üìö Stundenverlaufsplan</h1>
        </header>

        <main>
            <!-- Grundeinstellungen -->
            <section class="basic-info glass-card">
                <div class="input-group">
                    <label for="lesson-title">Stundentitel:</label>
                    <input type="text" id="lesson-title" placeholder="Titel der Unterrichtsstunde eingeben...">
                </div>
                
                <div class="time-and-ai">
                    <div class="input-group">
                        <label for="start-time">Startzeit:</label>
                        <input type="time" id="start-time" value="08:00">
                    </div>
                    <button type="button" id="ai-prompt-btn" class="ai-btn" title="KI-Prompt f√ºr Stundenerstellung">
                        ü§ñ KI-Prompt
                    </button>
                </div>
            </section>

            <!-- Lernziele -->
            <section class="learning-objectives glass-card">
                <h2>Lernziele</h2>
                <div id="objectives-container">
                    <div class="objective-item">
                        <input type="text" class="objective-input" placeholder="Lernziel eingeben...">
                        <button type="button" class="remove-objective" style="display: none;">‚úï</button>
                    </div>
                </div>
            </section>

            <!-- Unterrichtsphasen -->
            <section class="lesson-phases glass-card">
                <h2>Unterrichtsphasen</h2>
                <div id="phases-container">
                    <!-- Phasen werden hier dynamisch hinzugef√ºgt -->
                </div>
                <button type="button" id="add-phase" class="add-btn">+ Neue Phase</button>
            </section>

            <!-- Aktionen -->
            <section class="actions glass-card">
                <div class="action-buttons">
                    <button type="button" id="export-pdf" class="primary-btn">üìÑ PDF Exportieren</button>
                    <button type="button" id="export-json" class="secondary-btn">üíæ JSON Speichern</button>
                    <button type="button" id="import-json" class="secondary-btn">üìÇ JSON Laden</button>
                    <input type="file" id="json-file-input" accept=".json" style="display: none;">
                </div>
            </section>
        </main>
    </div>

    <!-- KI-Prompt Modal -->
    <div id="ai-prompt-modal" class="modal">
        <div class="modal-content glass-card">
            <div class="modal-header">
                <h2>ü§ñ KI-Prompt f√ºr Stundenerstellung</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p><strong>Kopieren Sie diesen Prompt und verwenden Sie ihn in Ihrem bevorzugten KI-Chat:</strong></p>
                <textarea id="ai-prompt-text" readonly>Du bist ein Experte f√ºr Unterrichtsplanung. Erstelle basierend auf dem folgenden Kontext und dem Konzept, das wir in diesem Chat ausgearbeitet haben einen detaillierten Stundenverlaufsplan in der Sprache Deutsch.

WICHTIG: Antworte ausschlie√ülich mit einem g√ºltigen JSON-Objekt im folgenden Format (ohne zus√§tzlichen Text):

{
  "lessonTitle": "Titel der Stunde",
  "startTime": "08:00",
  "objectives": [
    "Lernziel 1",
    "Lernziel 2",
    "Lernziel 3"
  ],
  "phases": [
    {
      "duration": 10,
      "socialForm": "Plenum",
      "taskTitle": "Einstieg",
      "implementation": "‚Ä¢ Begr√º√üung der Sch√ºler\n‚Ä¢ Wiederholung der letzten Stunde\n‚Ä¢ Hinf√ºhrung zum Thema",
      "materials": "Tafel, Arbeitsblatt"
    },
    {
      "duration": 20,
      "socialForm": "Einzelarbeit",
      "taskTitle": "Erarbeitung",
      "implementation": "‚Ä¢ Sch√ºler bearbeiten Aufgaben\n‚Ä¢ Lehrer unterst√ºtzt individuell\n‚Ä¢ Schwierigkeiten werden besprochen",
      "materials": "Arbeitsblatt, Stifte"
    },
    {
      "duration": 15,
      "socialForm": "Plenum",
      "taskTitle": "Sicherung",
      "implementation": "‚Ä¢ Ergebnisse werden pr√§sentiert\n‚Ä¢ Gemeinsame Reflexion\n‚Ä¢ Zusammenfassung der Lerninhalte",
      "materials": "Tafel"
    }
  ],
  "createdAt": "2024-01-01T00:00:00.000Z",
  "version": "1.0"
}

G√ºltige Sozialformen: "Einzelarbeit", "Partnerarbeit", "Gruppenarbeit", "Plenum", "Lehrer-Sch√ºler-Gespr√§ch", "Stillarbeit"

KONTEXT F√úR DIE STUNDENERSTELLUNG: Beachte alle Besonderheiten und Verl√§ufe, die in diesem Chat besprochen wurden. Solltest du Fragen haben, stelle sie bevor du den Stundenplan erstellst. 
</textarea>
                <div class="modal-actions">
                    <button type="button" id="copy-prompt" class="primary-btn">üìã Prompt kopieren</button>
                    <button type="button" class="secondary-btn close-modal">Schlie√üen</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Template f√ºr Unterrichtsphasen -->
    <template id="phase-template">
        <div class="phase-header">
            <span class="phase-number">Phase 1</span>
            <div class="phase-controls">
                <button type="button" class="move-up" title="Nach oben">‚Üë</button>
                <button type="button" class="move-down" title="Nach unten">‚Üì</button>
                <button type="button" class="remove-phase" title="Entfernen">‚úï</button>
            </div>
        </div>
        <div class="phase-content">
            <div class="input-row">
                <div class="input-group duration">
                    <label>Dauer (Min):</label>
                    <input type="number" class="duration-input" min="1" value="10">
                </div>
                <div class="input-group time-display">
                    <label>Zeitraum:</label>
                    <span class="time-range">08:00 - 08:10</span>
                </div>
            </div>
            <div class="input-row">
                <div class="input-group">
                    <label>Sozialform:</label>
                    <select class="social-form">
                        <option value="Einzelarbeit">Einzelarbeit</option>
                        <option value="Partnerarbeit">Partnerarbeit</option>
                        <option value="Gruppenarbeit">Gruppenarbeit</option>
                        <option value="Plenum">Plenum</option>
                        <option value="Lehrer-Sch√ºler-Gespr√§ch">Lehrer-Sch√ºler-Gespr√§ch</option>
                        <option value="Stillarbeit">Stillarbeit</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Titel/Aufgabe:</label>
                    <input type="text" class="task-title" placeholder="Titel der Unterrichtsphase...">
                </div>
            </div>
            <div class="input-row">
                <div class="input-group full-width">
                    <label>Durchf√ºhrung:</label>
                    <textarea class="implementation" rows="4" placeholder="Beschreibung der Durchf√ºhrung...
‚Ä¢ Bulletpoint 1
‚Ä¢ Bulletpoint 2"></textarea>
                </div>
            </div>
            <div class="input-row">
                <div class="input-group full-width">
                    <label>Material/Tafelbild:</label>
                    <textarea class="materials" rows="2" placeholder="Material und Tafelbild..."></textarea>
                </div>
            </div>
        </div>
    </template>

    <footer>
        <div class="impressum">
            <p>
                Entwickelt f√ºr Lernende und Lehrende |
                <a href="https://tinfo.space/teachers/Digitale_Tools/" target="_blank" rel="noopener">More apps and tools</a> 
                <a href="http://contact.tinfo.space/" id="contact-link">Kontakt</a> 
                <a href="https://linktr.ee/tinfo.space" target="_blank" rel="noopener">Links</a> 
                <a href="https://github.com/HansTydecks" target="_blank" rel="noopener">GitHub</a> 
                ¬© 2025 Hans Tydecks
            </p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
